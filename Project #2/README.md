# π–§ Socket Programming Project #2

## π“ ν”„λ΅μ νΈ κ°μ”
μ΄ ν”„λ΅μ νΈλ” **μ»΄ν“¨ν„° λ„¤νΈμ›ν¬ μ†μΌ“ ν”„λ΅κ·Έλλ°** μ‹¤μµμ„ μ„ν• μ½”λ“ κµ¬ν„μ…λ‹λ‹¤.  
**CTRL+C μ‹κ·Έλ„ ν•Έλ“¤λ¬, λ©€ν‹°ν΄λΌμ΄μ–ΈνΈ Echo μ„λ²„, select κΈ°λ° λ‹¤μ¤‘ μ±„ν… μ„λ²„**λ¥Ό ν¬ν•¨ν•©λ‹λ‹¤.  
C μ–Έμ–΄μ **socket API**λ¥Ό ν™μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„ ν†µμ‹ μ„ μ§μ ‘ κµ¬ν„ν•μ€μµλ‹λ‹¤.

---

## π›  μ‚¬μ© κΈ°μ 
- **ν”„λ΅κ·Έλλ° μ–Έμ–΄**: C
- **μ†μΌ“ ν”„λ΅κ·Έλλ°**:
  - `AF_INET`, `SOCK_STREAM` (TCP κΈ°λ° μ†μΌ“)
  - `fork()`λ¥Ό ν™μ©ν• λ©€ν‹°ν΄λΌμ΄μ–ΈνΈ μ„λ²„
  - `select()`λ¥Ό ν™μ©ν• λΉ„λ™κΈ° λ‹¤μ¤‘ μ±„ν… μ„λ²„
- **μ‹κ·Έλ„ ν•Έλ“¤λ§**:
  - `SIGINT` (CTRL+C) μ‹κ·Έλ„ μ²λ¦¬
- **λ©€ν‹°ν΄λΌμ΄μ–ΈνΈ μ„λ²„**:
  - ν΄λΌμ΄μ–ΈνΈ μ ‘μ† μ‹ `client_cnt` λ³€μ μ¦κ°€
  - μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈμ λ©”μ‹μ§€λ¥Ό κ·Έλ€λ΅ λ°ν™ν•λ” Echo κΈ°λ¥

---

## π“ μ£Όμ” κΈ°λ¥

### **1οΈβƒ£ CTRL+C μ‹κ·Έλ„ ν•Έλ“¤λ¬**
- `signal(SIGINT, handler)`λ¥Ό μ΄μ©ν•μ—¬ **CTRL+C μ…λ ¥ μ‹ μΆ…λ£ λ©”μ‹μ§€ μ¶λ ¥ ν›„ μΆ…λ£**
- `sleep(1000)`μ„ μ‚¬μ©ν•μ—¬ μΌμ • μ‹κ°„ λ€κΈ° ν›„ μΆ…λ£

```c
void handler(int signum) {
    printf("Handler is called.\n");
    exit(EXIT_SUCCESS);
}
```

### **2οΈβƒ£ λ©€ν‹°ν΄λΌμ΄μ–ΈνΈ Echo μ„λ²„**
- `fork()`λ¥Ό μ΄μ©ν•μ—¬ **ν΄λΌμ΄μ–ΈνΈλ³„λ΅ λ³„λ„μ ν”„λ΅μ„Έμ¤λ¥Ό μƒμ„±**
- ν΄λΌμ΄μ–ΈνΈκ°€ λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ©΄ **μ„λ²„κ°€ λ™μΌν• λ©”μ‹μ§€λ¥Ό λ°ν™**
- `client_cnt` λ³€μλ¥Ό μ΄μ©ν•μ—¬ μ ‘μ†λ ν΄λΌμ΄μ–ΈνΈ μ μ¶λ ¥

```c
printf("Number of service client : %d\n", client_cnt);
```

### **3οΈβƒ£ select κΈ°λ° λ‹¤μ¤‘ μ±„ν… μ„λ²„**
- `select()` ν•¨μλ¥Ό μ΄μ©ν•μ—¬ **μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λΉ„λ™κΈ° μ²λ¦¬**
- `FD_SET()` λ° `FD_ISSET()`μ„ ν™μ©ν•μ—¬ **μ†μΌ“ μ΄λ²¤νΈ κ°μ§€**
- **3λ…μ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μ‹μ— μ ‘μ† ν›„ λ©”μ‹μ§€λ¥Ό μ£Όκ³ λ°›λ” κµ¬μ΅°**

---

## π“ μ‹¤ν–‰ μμ‹
### **1οΈβƒ£ CTRL+C μ‹κ·Έλ„ ν•Έλ“¤λ¬**
```bash
$ ./signal_handler
Sleep begins!
^C
Handler is called.
```

### **2οΈβƒ£ λ©€ν‹°ν΄λΌμ΄μ–ΈνΈ Echo μ„λ²„**
```bash
Client: Hello Server!
Server: Recv from Server: Hello Server!
Client: \quit
```

### **3οΈβƒ£ λ‹¤μ¤‘ μ±„ν… μ„λ²„**
```bash
Client 1: μ•λ…•ν•μ„Έμ”
Client 2: λ°κ°‘μµλ‹λ‹¤!
Client 3: μ±„ν… μ λλ„¤μ”~
```
